<div class="auth-container">
    <h2>Bem-vindo de volta</h2>

    @if(errorMessage){
        <div class="alert-error">
            {{errorMessage}}
        </div>
    }

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" autocomplete="off">
        <div class="form-group">
            <label for="email">Email</label>
            <input 
                id="email" 
                type="email"
                formControlName="usuTxEmail"
                placeholder="seu@email.com"
                autocomplete="off"
                [class.error]="loginForm.controls.usuTxEmail.invalid && loginForm.controls.usuTxEmail.touched"
            >
            @if(loginForm.controls.usuTxEmail.invalid && loginForm.controls.usuTxEmail.touched){
                <div class="error-msg">
                    @if (loginForm.controls.usuTxEmail.hasError('required')) {
                        Email é obrigatório
                    }
                    @if (loginForm.controls.usuTxEmail.hasError('email')) {
                        Email inválido
                    }
                </div>
            }
        </div>
        <div class="form-group">
            <label for="password">Senha</label>
            <input
                id="password" 
                type="password"
                formControlName="usuTxSenha"
                autocomplete="new-password"
                placeholder="******"
                [class.error]="loginForm.controls.usuTxSenha.invalid && loginForm.controls.usuTxSenha.touched"
            >
            <div class="forgot-link">
                <a routerLink="/forgot-password">Esqueceu a senha?</a>
            </div>
            @if(loginForm.controls.usuTxSenha.invalid && loginForm.controls.usuTxSenha.touched){
                <div class="error-msg">
                    @if (loginForm.controls.usuTxSenha.hasError('required')) {
                        Senha é obrigatório
                    }
                    @if (loginForm.controls.usuTxSenha.hasError('minLength')) {
                        Mínimo de 6 caracteres
                    }
                </div>
            }
        </div>
        <button type="submit" [disabled]="loginForm.invalid">Entrar</button>
    </form>
    <p>Não tem uma conta? <a routerLink="/register">Cadastre-se</a></p>
</div>
